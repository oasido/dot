# vim: ft=tmux
# dotbar theme with auto-path/manual-name functionality

# dotbar color palette
# bg:         #0B0E14  (dark background)
# fg:         #475266  (muted - inactive windows)
# fg_current: #BFBDB6  (bright - active window)
# fg_session: #565B66  (session name)
# fg_prefix:  #95E6CB  (prefix highlight - green)
# accent:     #39BAE6  (zoom icon)

# mode styling (visual mode, copy mode)
set -g mode-style "fg=#BFBDB6,bg=#475266"

# message styling
set -g message-style "fg=#BFBDB6,bg=#0B0E14"
set -g message-command-style "fg=#0B0E14,bg=#95E6CB"

# pane border styling
set -g pane-border-style "fg=#475266"
set -g pane-active-border-style "fg=#BFBDB6"

# status bar general settings
set -g status "on"
set -g status-interval 1
set -g status-justify "absolute-centre"

# status bar colors
set -g status-style "bg=#0B0E14,fg=#475266"

# status bar length limits
set -g status-left-length "100"
set -g status-right-length "100"

# left status: session name with prefix highlight
set -g status-left "#[bg=#0B0E14,fg=#565B66]#{?client_prefix,, #S }#[bg=#95E6CB,fg=#0B0E14,bold]#{?client_prefix, #S ,}"

# right status: empty
set -g status-right ""

# window separator
setw -g window-status-separator " • "

# window status styling
setw -g window-status-style "bg=#0B0E14,fg=#475266"
setw -g window-status-activity-style "bg=#BFBDB6,fg=#0B0E14"
setw -g window-status-bell-style "bg=#95E6CB,fg=#0B0E14,bold"

# window format: shows name if explicitly set, otherwise shows current directory
# if automatic-rename is off (0) → show window name (#W)
# if automatic-rename is on (1)  → show current directory basename
# #I = window number (muted), 󰌘 = ssh indicator
#
# checks processes on the specific pane tty
# grep '[s]sh' prevents grep from finding itself
setw -g window-status-format " #I #(ps -t #{pane_tty} | grep -q '[s]sh' && echo '󰌘 ')#{?#{==:#{automatic-rename},0},#W,#{b:pane_current_path}} "

setw -g window-status-current-format " #[fg=#565B66]#I #[fg=#BFBDB6]#(ps -t #{pane_tty} | grep -q '[s]sh' && echo '󰌘 ')#{?#{==:#{automatic-rename},0},#W,#{b:pane_current_path}} "

# display pane numbers (prefix + q)
set -g display-panes-active-colour "#BFBDB6"
set -g display-panes-colour "#475266"

# clock mode (prefix + t)
setw -g clock-mode-colour "#95E6CB"
