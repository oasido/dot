#!/bin/bash

source_id=$(pulsemixer --list-sources | grep -i "RODE NT-USB Analog Stereo" | sed -n 's/.*ID: source-\([0-9]*\).*/\1/p')

pulsemixer --id source-$source_id --toggle-mute
mute_status=$(pulsemixer --get-mute --id source-$source_id)

if [ "$mute_status" -eq 0 ]; then
    notify-send --icon=gtk-info Test "Microphone unmuted"
else
    notify-send --icon=gtk-info Test "Microphone muted"
fi

